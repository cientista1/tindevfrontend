{"version":3,"sources":["services/api.js","pages/login.js","pages/main.js","routes.js","App.js","index.js","assets/logo.svg","assets/load.gif","assets/like.svg","assets/dislike.svg","assets/match.png"],"names":["url","api","axios","create","baseURL","Login","history","useState","username","setUsername","loading","setLoading","e","a","preventDefault","post","then","response","_id","data","estado","push","catch","error","console","log","status","window","alert","className","onSubmit","src","logo","alt","placeholder","value","onChange","target","required","load","type","Main","match","users","setUsers","matchDev","setMachDev","id","headers","user","params","filter","useEffect","get","loadUsers","socket","io","query","on","dev","newdev","to","length","map","key","avatar","name","bio","onClick","handleLike","like","handleDislike","dislike","itsmatch","Routes","exact","path","component","App","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"mSAEaA,EAAM,wCAMJC,E,OAJHC,EAAMC,OAAO,CACrBC,QAASJ,ICCE,SAASK,EAAT,GAA6B,IAAZC,EAAW,EAAXA,QAAW,EAEPC,mBAAS,IAFF,mBAEhCC,EAFgC,KAEtBC,EAFsB,OAGTF,oBAAS,GAHA,mBAGhCG,EAHgC,KAGvBC,EAHuB,iDAKvC,WAA4BC,GAA5B,SAAAC,EAAA,6DACID,EAAEE,iBACFH,GAAW,GAFf,SAIUV,EAAIc,KAAK,QAAS,CACpBP,aAECQ,MAAK,SAAAC,GAAa,IACPC,EAAQD,EAASE,KAAjBD,IACJA,IACAE,IACAd,EAAQe,KAAR,gBAAsBH,QAG7BI,OAAM,SAAAC,GACHC,QAAQC,IAAIF,GACkB,MAA1BA,EAAMN,SAASS,OACfC,OAAOC,MAAM,yBACkB,MAA1BL,EAAMN,SAASS,OACpBC,OAAOC,MAAM,gEAEbD,OAAOC,MAAM,mDACjBR,OAtBZ,4CALuC,sBAgCvC,SAASA,IACLT,GAAW,GAEf,OACI,yBAAKkB,UAAU,mBACX,0BAAMC,SArCyB,6CAsC3B,yBAAKD,UAAU,OAAOE,IAAKC,IAAMC,IAAI,WACrC,2BACIC,YAAY,+BACZC,MAAO3B,EACP4B,SAAU,SAACxB,GAAD,OAAOH,EAAYG,EAAEyB,OAAOF,QACtCG,UAAQ,IAEX5B,GAAW,yBAAKmB,UAAU,UAAUE,IAAKQ,IAAMN,IAAI,YACpD,4BAAQO,KAAK,UAAb,c,yFC1CD,SAASC,EAAT,GAA0B,IAAVC,EAAS,EAATA,MAAS,EAEVnC,mBAAS,IAFC,mBAE7BoC,EAF6B,KAEtBC,EAFsB,OAGLrC,qBAHK,mBAG7BsC,EAH6B,KAGnBC,EAHmB,iDAuCpC,WAA0BC,GAA1B,SAAAlC,EAAA,sEACUZ,EAAIc,KAAJ,gBAAkBgC,EAAlB,UAA8B,KAAM,CACtCC,QAAS,CACLC,KAAMP,EAAMQ,OAAOH,MAH/B,OAMIH,EAASD,EAAMQ,QAAO,SAAAF,GAAI,OAAIA,EAAK/B,MAAQ6B,MAN/C,4CAvCoC,kEAgDpC,WAA6BA,GAA7B,SAAAlC,EAAA,sEACUZ,EAAIc,KAAJ,gBAAkBgC,EAAlB,aAAiC,KAAM,CACzCC,QAAS,CACLC,KAAMP,EAAMQ,OAAOH,MAH/B,OAMIH,EAASD,EAAMQ,QAAO,SAAAF,GAAI,OAAIA,EAAK/B,MAAQ6B,MAN/C,4CAhDoC,sBA0DpC,OArDAK,qBAAU,WAAM,4CACZ,4BAAAvC,EAAA,sEAC2BZ,EAAIoD,IAAI,QAAS,CACpCL,QAAS,CACLC,KAAMP,EAAMQ,OAAOH,MAH/B,OACU9B,EADV,OAMI2B,EAAS3B,EAASE,MANtB,4CADY,uBAAC,WAAD,wBASZmC,KAED,CAACZ,EAAMQ,OAAOH,KAEjBK,qBAAU,WACN,IAAMG,EAASC,IAAGxD,EAAK,CACnByD,MAAO,CAAER,KAAMP,EAAMQ,OAAOH,MAGhCQ,EAAOG,GAAG,SAAS,SAAAC,GACfb,EAAWa,MAGbJ,EAAOG,GAAG,UAAU,SAAAE,GAGdhB,GAAU,SAAAD,GAAK,4BAAQA,GAAR,CAAeiB,YAOvC,CAAClB,EAAMQ,OAAOH,KAsBb,yBAAKlB,UAAU,kBACX,kBAAC,IAAD,CAAMgC,GAAG,KACL,yBAAK9B,IAAKC,IAAMC,IAAI,YAEvBU,EAAMmB,OAAS,EACZ,4BACKnB,EAAMoB,KAAI,SAAAd,GAAI,OACX,wBAAIe,IAAKf,EAAK/B,KACV,yBAAKa,IAAKkB,EAAKgB,OAAQhC,IAAI,eAC3B,gCACI,gCAASgB,EAAKiB,MACd,2BAAIjB,EAAKkB,MAEb,yBAAKtC,UAAU,WACX,4BAAQW,KAAK,SAAS4B,QAAS,kBAzEvB,2CAyE6BC,CAAWpB,EAAK/B,OACjD,yBAAKa,IAAKuC,IAAMrC,IAAI,UAExB,4BAAQO,KAAK,SAAS4B,QAAS,kBA5EvB,2CA4E6BG,CAActB,EAAK/B,OACpD,yBAAKa,IAAKyC,IAASvC,IAAI,mBAOvC,yBAAKJ,UAAU,SAAf,aAKPgB,GACG,yBAAKhB,UAAU,mBACX,yBAAKA,UAAU,cAAcE,IAAK0C,IAAUxC,IAAI,gBAChD,yBAAKJ,UAAU,SAASE,IAAKc,EAASoB,OAAQhC,IAAI,SAClD,gCAASY,EAASqB,MAClB,2BAAIrB,EAASsB,KACb,4BAAQ3B,KAAK,SAAS4B,QAAS,kBAAMtB,EAAW,QAAhD,cCrGL,SAAS4B,IACpB,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWxE,IACjC,kBAAC,IAAD,CAAOuE,KAAK,YAAYC,UAAWpC,KCOhCqC,MAVf,WAGE,OACE,yBAAKjD,UAAU,OACb,kBAAC6C,EAAD,QCPNK,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U,mBCP1BC,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,mC","file":"static/js/main.070c501f.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const url = \"https://tindevbackand01.herokuapp.com\"\r\n\r\nconst api = axios.create({\r\n    baseURL: url\r\n})\r\n\r\nexport default api;","import React, { useState } from 'react';\r\nimport logo from \"../assets/logo.svg\";\r\nimport load from \"../assets/load.gif\";\r\nimport \"./login.css\"\r\nimport api from \"../services/api\";\r\n\r\nexport default function Login({ history }) {\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        await api.post('/devs', {\r\n            username\r\n        })\r\n            .then(response => {\r\n                const { _id } = response.data;\r\n                if (_id) {\r\n                    estado();\r\n                    history.push(`/devs/${_id}`);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                if (error.response.status === 404)\r\n                    window.alert('Usuario não existe');\r\n                else if (error.response.status === 406)\r\n                    window.alert('Este usuário do github contem informações invalidas');\r\n                else\r\n                    window.alert('Aconteceu um erro no servidor, tenta mais tarde');\r\n                estado();\r\n            })\r\n\r\n\r\n    }\r\n    function estado() {\r\n        setLoading(false)\r\n    }\r\n    return (\r\n        <div className=\"login-container\">\r\n            <form onSubmit={handleSubmit}>\r\n                <img className=\"logo\" src={logo} alt=\"tindev\" />\r\n                <input\r\n                    placeholder=\"Digite seu usuario do github\"\r\n                    value={username}\r\n                    onChange={(e) => setUsername(e.target.value)}\r\n                    required\r\n                />\r\n                {loading && <img className=\"loading\" src={load} alt=\"loading\" />}\r\n                <button type=\"submit\"> Enviar </button>\r\n            </form>\r\n\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport io from 'socket.io-client';\r\nimport logo from \"../assets/logo.svg\";\r\nimport \"./main.css\"\r\nimport like from \"../assets/like.svg\"\r\nimport dislike from \"../assets/dislike.svg\"\r\nimport api, { url } from \"../services/api\";\r\nimport itsmatch from \"../assets/match.png\";\r\n\r\nexport default function Main({ match }) {\r\n\r\n    const [users, setUsers] = useState([]);\r\n    const [matchDev, setMachDev] = useState();\r\n\r\n    useEffect(() => {\r\n        async function loadUsers() {\r\n            const response = await api.get('/devs', {\r\n                headers: {\r\n                    user: match.params.id\r\n                }\r\n            })\r\n            setUsers(response.data);\r\n        };\r\n        loadUsers();\r\n\r\n    }, [match.params.id])\r\n\r\n    useEffect(() => {\r\n        const socket = io(url, {\r\n            query: { user: match.params.id }\r\n        });\r\n\r\n        socket.on('match', dev => {\r\n            setMachDev(dev)\r\n        })\r\n\r\n          socket.on('newdev', newdev => {   \r\n\r\n            function NewUser () {  \r\n                setUsers( users => [...users, newdev]);\r\n            }\r\n            NewUser();\r\n            \r\n        })\r\n\r\n\r\n    }, [match.params.id])\r\n\r\n    async function handleLike(id) {\r\n        await api.post(`/devs/${id}/likes`, null, {\r\n            headers: {\r\n                user: match.params.id\r\n            }\r\n        })\r\n        setUsers(users.filter(user => user._id !== id));\r\n    }\r\n\r\n    async function handleDislike(id) {\r\n        await api.post(`/devs/${id}/dislikes`, null, {\r\n            headers: {\r\n                user: match.params.id\r\n            }\r\n        })\r\n        setUsers(users.filter(user => user._id !== id));\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"main-container\">\r\n            <Link to=\"/\">\r\n                <img src={logo} alt=\"tindev\" />\r\n            </Link>\r\n            {users.length > 0 ? (\r\n                <ul>\r\n                    {users.map(user =>\r\n                        <li key={user._id}>\r\n                            <img src={user.avatar} alt=\"programmer\" />\r\n                            <footer>\r\n                                <strong>{user.name}</strong>\r\n                                <p>{user.bio}</p>\r\n                            </footer>\r\n                            <div className=\"buttons\">\r\n                                <button type=\"button\" onClick={() => handleLike(user._id)}>\r\n                                    <img src={like} alt=\"like\" />\r\n                                </button>\r\n                                <button type=\"button\" onClick={() => handleDislike(user._id)}>\r\n                                    <img src={dislike} alt=\"dislike\" />\r\n                                </button>\r\n                            </div>\r\n                        </li>\r\n                    )}\r\n                </ul>\r\n            ) : (\r\n                    <div className=\"empty\">\r\n                        Acabou :(\r\n                    </div>\r\n                )}\r\n\r\n            {matchDev && (\r\n                <div className=\"match-container\">\r\n                    <img className=\"match-title\" src={itsmatch} alt=\"its a march\" />\r\n                    <img className=\"avatar\" src={matchDev.avatar} alt=\"user\" />\r\n                    <strong>{matchDev.name}</strong>\r\n                    <p>{matchDev.bio}</p>\r\n                    <button type=\"button\" onClick={() => setMachDev(null)}> Fechar </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {HashRouter, Route} from \"react-router-dom\";\r\nimport Login from \"./pages/login\";\r\nimport Main from \"./pages/main\"\r\nexport default function Routes(){\r\n    return(\r\n        <HashRouter>\r\n            <Route exact path=\"/\" component={Login} />\r\n            <Route path=\"/devs/:id\" component={Main} />\r\n        </HashRouter>\r\n    )\r\n}\r\n","import React from 'react';\nimport \"./App.css\";\nimport Routes from \"./routes\";\n\n\nfunction App() {\n\n\n  return (\n    <div className=\"App\">\n      <Routes />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","module.exports = __webpack_public_path__ + \"static/media/logo.6a01ceef.svg\";","module.exports = __webpack_public_path__ + \"static/media/load.b9553b9b.gif\";","module.exports = __webpack_public_path__ + \"static/media/like.542059a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/dislike.d4ec34e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/match.92d8d8f4.png\";"],"sourceRoot":""}