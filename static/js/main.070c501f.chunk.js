(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{118:function(e,t){},121:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(55),i=n.n(c),s=(n(69),n(18)),o=n(1),u=n(5),l=n.n(u),m=n(7),p=n(8),d=n(17),f=n.n(d),v=n(56),E=n.n(v),b=(n(71),n(57)),h="https://tindevbackand01.herokuapp.com",g=n.n(b).a.create({baseURL:h});function k(e){var t=e.history,n=Object(a.useState)(""),c=Object(p.a)(n,2),i=c[0],s=c[1],o=Object(a.useState)(!1),u=Object(p.a)(o,2),d=u[0],v=u[1];function b(){return(b=Object(m.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),v(!0),e.next=4,g.post("/devs",{username:i}).then((function(e){var n=e.data._id;n&&(h(),t.push("/devs/".concat(n)))})).catch((function(e){console.log(e),404===e.response.status?window.alert("Usuario n\xe3o existe"):406===e.response.status?window.alert("Este usu\xe1rio do github contem informa\xe7\xf5es invalidas"):window.alert("Aconteceu um erro no servidor, tenta mais tarde"),h()}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){v(!1)}return r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:function(e){return b.apply(this,arguments)}},r.a.createElement("img",{className:"logo",src:f.a,alt:"tindev"}),r.a.createElement("input",{placeholder:"Digite seu usuario do github",value:i,onChange:function(e){return s(e.target.value)},required:!0}),d&&r.a.createElement("img",{className:"loading",src:E.a,alt:"loading"}),r.a.createElement("button",{type:"submit"}," Enviar ")))}var w=n(63),y=n(58),x=n.n(y),j=(n(121),n(59)),O=n.n(j),N=n(60),S=n.n(N),_=n(61),C=n.n(_);function A(e){var t=e.match,n=Object(a.useState)([]),c=Object(p.a)(n,2),i=c[0],o=c[1],u=Object(a.useState)(),d=Object(p.a)(u,2),v=d[0],E=d[1];function b(){return(b=Object(m.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/devs/".concat(n,"/likes"),null,{headers:{user:t.params.id}});case 2:o(i.filter((function(e){return e._id!==n})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(m.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/devs/".concat(n,"/dislikes"),null,{headers:{user:t.params.id}});case 2:o(i.filter((function(e){return e._id!==n})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/devs",{headers:{user:t.params.id}});case 2:n=e.sent,o(n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.params.id]),Object(a.useEffect)((function(){var e=x()(h,{query:{user:t.params.id}});e.on("match",(function(e){E(e)})),e.on("newdev",(function(e){o((function(t){return[].concat(Object(w.a)(t),[e])}))}))}),[t.params.id]),r.a.createElement("div",{className:"main-container"},r.a.createElement(s.b,{to:"/"},r.a.createElement("img",{src:f.a,alt:"tindev"})),i.length>0?r.a.createElement("ul",null,i.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("img",{src:e.avatar,alt:"programmer"}),r.a.createElement("footer",null,r.a.createElement("strong",null,e.name),r.a.createElement("p",null,e.bio)),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{type:"button",onClick:function(){return function(e){return b.apply(this,arguments)}(e._id)}},r.a.createElement("img",{src:O.a,alt:"like"})),r.a.createElement("button",{type:"button",onClick:function(){return function(e){return k.apply(this,arguments)}(e._id)}},r.a.createElement("img",{src:S.a,alt:"dislike"}))))}))):r.a.createElement("div",{className:"empty"},"Acabou :("),v&&r.a.createElement("div",{className:"match-container"},r.a.createElement("img",{className:"match-title",src:C.a,alt:"its a march"}),r.a.createElement("img",{className:"avatar",src:v.avatar,alt:"user"}),r.a.createElement("strong",null,v.name),r.a.createElement("p",null,v.bio),r.a.createElement("button",{type:"button",onClick:function(){return E(null)}}," Fechar ")))}function q(){return r.a.createElement(s.a,null,r.a.createElement(o.a,{exact:!0,path:"/",component:k}),r.a.createElement(o.a,{path:"/devs/:id",component:A}))}var D=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(q,null))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))},17:function(e,t,n){e.exports=n.p+"static/media/logo.6a01ceef.svg"},56:function(e,t,n){e.exports=n.p+"static/media/load.b9553b9b.gif"},59:function(e,t,n){e.exports=n.p+"static/media/like.542059a4.svg"},60:function(e,t,n){e.exports=n.p+"static/media/dislike.d4ec34e8.svg"},61:function(e,t,n){e.exports=n.p+"static/media/match.92d8d8f4.png"},64:function(e,t,n){e.exports=n(126)},69:function(e,t,n){},71:function(e,t,n){}},[[64,1,2]]]);
//# sourceMappingURL=main.070c501f.chunk.js.map